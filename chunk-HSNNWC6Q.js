import{b as O,e as V,g as k,h as W,i as L,k as R}from"./chunk-WHXCHHOB.js";import{k as F,l as P}from"./chunk-PWNG7JZQ.js";import{f as N,g as j,j as z}from"./chunk-ZLIKLYOM.js";import{Ab as f,Ga as r,Kb as o,Lb as D,Mb as m,Nb as S,Ob as h,Pb as C,Ta as T,Ya as c,hb as u,qb as t,rb as e,sb as p,zb as g}from"./chunk-FS5QL6EI.js";import{a as A,b as M}from"./chunk-4CLCTAJ7.js";function H(d,n){d&1&&(t(0,"span"),o(1,"Simular Cr\xE9dito"),e())}function Q(d,n){d&1&&(t(0,"span"),o(1,"Calculando..."),e())}function G(d,n){if(d&1&&(t(0,"tr",37)(1,"td",38),o(2),e(),t(3,"td",38),o(4),e()()),d&2){let i=n.$implicit,a=n.index,l=f(3);r(2),m("Cuota ",a+1,""),r(2),D(l.formatearNumero(i))}}function U(d,n){if(d&1&&(t(0,"div",31)(1,"h4",32),o(2,"Cuotas Promedio Ajustadas"),e(),t(3,"table",33)(4,"thead")(5,"tr",34)(6,"th",35),o(7,"Cuota #"),e(),t(8,"th",35),o(9,"Valor"),e()()(),t(10,"tbody"),c(11,G,5,2,"tr",36),e()()()),d&2){let i=f(2);r(11),u("ngForOf",i.cuotasPromedioAjustadas)}}function q(d,n){if(d&1&&(t(0,"div")(1,"div",26)(2,"h2",27),o(3,"Resultados del Cr\xE9dito"),e(),t(4,"p")(5,"strong"),o(6,"Valor de la mensual:"),e(),o(7),e(),t(8,"p")(9,"strong"),o(10,"Total intereses :"),e(),o(11),e(),t(12,"p")(13,"strong"),o(14,"Total aval + IVA :"),e(),o(15),e(),t(16,"p")(17,"strong"),o(18,"Total a pagar :"),e(),o(19),e()(),t(20,"h3",28),o(21,"Tabla de Amortizaci\xF3n"),e(),t(22,"div",29),c(23,U,12,1,"div",30),e()()),d&2){let i=f();r(7),m(" ",i.formatearNumero(i.resultado.totalCredito/i.cuotas)," "),r(4),m(" ",i.formatearNumero(i.resultado.totalIntereses),""),r(4),m(" ",i.formatearNumero(i.resultado.totalAval),""),r(4),m(" ",i.formatearNumero(i.resultado.totalCredito),""),r(4),u("ngIf",i.cuotasPromedioAjustadas.length>0)}}var B=class d{formatearInput(n){return n===null||isNaN(n)?"":"$"+n.toLocaleString("es-CO")}actualizarValorSolicitado(n){let a=n.target.value.replace(/\D/g,"");this.valorSolicitado=a?parseInt(a,10):null}cuotasPromedioAjustadas=[];valorSolicitado=1e6;cuotas=6;plazo="Mensual";resultadoVisible=!1;loading=!1;resultado={valorCuota:0,totalIntereses:0,porcentajeAval:13,ivaAval:0,totalAval:0,totalCredito:0,tablaAmortizacion:[],tasaInteres:1.91};calcularCredito(){if(!this.valorSolicitado||this.valorSolicitado<=0){alert("Por favor ingrese un valor v\xE1lido para el cr\xE9dito");return}if(this.cuotas<=0){alert("El n\xFAmero de cuotas debe ser mayor a cero");return}this.loading=!0,this.resultadoVisible=!1,setTimeout(()=>{this.realizarCalculo(),this.loading=!1,this.resultadoVisible=!0},800)}realizarCalculo(){let n=this.resultado.tasaInteres/100,i=this.valorSolicitado,a=this.cuotas,l=this.calcularCuotaFija(i,n,a),s=l*a-i,_=i*(this.resultado.porcentajeAval/100),y=_*.19,E=_+y,b=i,w=[];for(let x=1;x<=a;x++){let I=b*n,v=l-I;w.push({periodo:x,cuota:l,capital:v,interes:I,saldo:b-v}),b-=v}this.resultado=M(A({},this.resultado),{valorCuota:l,totalIntereses:s,ivaAval:y,totalAval:E,totalCredito:l*a+E,tablaAmortizacion:w}),this.cal()}calcularCuotaFija(n,i,a){let l=Math.pow(1+i,a);return n*(i*l)/(l-1)}formatearNumero(n){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}resetearSimulador(){this.valorSolicitado=1e6,this.cuotas=6,this.plazo="Mensual",this.resultadoVisible=!1}cal(){this.cuotasPromedioAjustadas=[];let n=this.resultado.totalCredito,i=Math.floor(n/this.cuotas),a=0;for(let l=1;l<=this.cuotas;l++)l<this.cuotas?(this.cuotasPromedioAjustadas.push(i),a+=i):this.cuotasPromedioAjustadas.push(Math.round(n-a))}static \u0275fac=function(i){return new(i||d)};static \u0275cmp=T({type:d,selectors:[["app-simulador-de-credito"]],decls:50,vars:7,consts:[[1,"max-w-4xl","mx-auto","bg-white","rounded-xl","shadow-lg","overflow-hidden","flex","flex-col","md:flex-row"],[1,"w-full","md:w-1/2","p-8","space-y-6"],[1,"text-2xl","font-bold","text-gray-800","text-center","md:text-left",2,"color","#2240b1","font","bold","font-weight","800"],["id","valor","type","text","placeholder","Ej: $1.000.000",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","value"],["for","cuotas",1,"block","text-gray-700","font-semibold","mb-1"],["id","cuotas",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["for","plazo",1,"block","text-gray-700","font-semibold","mb-1"],["id","plazo",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value","Mensual"],["value","Quincenal"],["value","Semanal"],[1,"flex","space-x-4"],[1,"flex-1","bg-blue-600","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded-lg","transition-colors","disabled:bg-blue-400","disabled:cursor-not-allowed",2,"background","rebeccapurple",3,"click","disabled"],[4,"ngIf"],[1,"flex-1","bg-gray-200","hover:bg-gray-300","text-gray-800","font-bold","py-2","px-4","rounded-lg","transition-colors",3,"click"],[1,"w-full","md:w-1/2","bg-gray-100","flex","items-center","justify-center","p-8","relative"],[1,"absolute","top-4","text-3xl","font-bold","text-center","text-white","bg-black/50","px-4","py-2","rounded-lg","shadow-lg","z-10",2,"color","#2240b1","font","bold","font-weight","800","background","#2240b1"],["src","https://comfacesar.com/media/2017/FOTOS%20AGOSTO/simulador%20de%20credito.jpg","alt","Imagen Simulador de cr\xE9dito",1,"w-full","h-auto","max-h-96","object-contain","rounded-lg"],[2,"text-align","right"],[1,"text-xl","font-bold","mb-4"],[1,"text-lg","font-semibold","mt-6","mb-2"],[1,"overflow-x-auto"],["class","mt-4 bg-white border border-gray-200 rounded-lg shadow",4,"ngIf"],[1,"mt-4","bg-white","border","border-gray-200","rounded-lg","shadow"],[1,"bg-gray-100","px-4","py-2","font-semibold","text-gray-800","rounded-t-lg"],[1,"min-w-full","text-sm","text-gray-700"],[1,"border-b","bg-gray-50"],[1,"px-4","py-2","text-left"],["class","border-t",4,"ngFor","ngForOf"],[1,"border-t"],[1,"px-4","py-2"]],template:function(i,a){i&1&&(p(0,"app-header")(1,"br")(2,"br"),t(3,"div",0)(4,"div",1)(5,"h2",2),o(6,"Simulador de Cr\xE9dito"),e(),t(7,"input",3),g("input",function(s){return a.actualizarValorSolicitado(s)}),e(),t(8,"div")(9,"label",4),o(10,"N\xFAmero de cuotas"),e(),t(11,"select",5),C("ngModelChange",function(s){return h(a.cuotas,s)||(a.cuotas=s),s}),t(12,"option",6),o(13,"1 cuota"),e(),t(14,"option",7),o(15,"2 cuotas"),e(),t(16,"option",8),o(17,"3 cuotas"),e(),t(18,"option",9),o(19,"4 cuotas"),e(),t(20,"option",10),o(21,"5 cuotas"),e(),t(22,"option",11),o(23,"6 cuotas"),e(),t(24,"option",12),o(25,"7 cuotas"),e(),t(26,"option",13),o(27,"8 cuotas"),e()()(),t(28,"div")(29,"label",14),o(30,"Periodicidad de pagos"),e(),t(31,"select",15),C("ngModelChange",function(s){return h(a.plazo,s)||(a.plazo=s),s}),t(32,"option",16),o(33,"Mensual"),e(),t(34,"option",17),o(35,"Quincenal"),e(),t(36,"option",18),o(37,"Semanal"),e()()(),t(38,"div",19)(39,"button",20),g("click",function(){return a.calcularCredito()}),c(40,H,2,0,"span",21)(41,Q,2,0,"span",21),e(),t(42,"button",22),g("click",function(){return a.resetearSimulador()}),o(43," Reiniciar "),e()(),c(44,q,24,5,"div",21),e(),t(45,"div",23)(46,"h2",24),o(47," INVERTECCUPOS "),e(),p(48,"img",25),e()(),p(49,"app-footer")),i&2&&(r(7),u("value",a.formatearInput(a.valorSolicitado)),r(4),S("ngModel",a.cuotas),r(20),S("ngModel",a.plazo),r(8),u("disabled",a.loading),r(),u("ngIf",!a.loading),r(),u("ngIf",a.loading),r(3),u("ngIf",a.resultadoVisible))},dependencies:[F,P,R,W,L,k,O,V,z,N,j],encapsulation:2})};export{B as SimuladorDeCreditoComponent};
